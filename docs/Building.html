<html>
<div style="position: relative; left: 1150px; top: 0px;">
<img src="data/logo.png" align="center">
</div> 
<style>
body {
  background-image: url(data/background.jpg);
  background-size: cover;
}
</style>
<font color=#FFFFFF face="Verdana"> 
<h1>REX Virtual Machine Documentation</h1>
<h1>Building and running the Virtual Machine</h2>
REX uses a bash script ("src/build.sh"), to configure and compile itself.<br>
In order to build it properly on your system, follow the instructions below: <br>
1. Please ensure you've a bash (or compatible) shell for your host system.<br>
2. Install the GNU C compiler. (For ARM the compiler is the arm-linux-gnueabi suite)<br>
3. Next install the required libraries: libSDL, libSDL_ttf, and OpenGL for the target<br>
4. With the 0.71b build script, you can simply build using<br>
<pre>
./build.sh arch=&lt;archname&gt; usegl=yes/no usedynamic=yes/no
</pre>
Here is the description of what you may need to modify in the build script for non-developmental purposes<br>
<pre>export TARGET="ARCHNAME"</pre><br>
Replace "ARCHNAME" with the name of your target architecture<br>
Current options are: <br>
x86_32 - 32-bit x86 Linux<br>
x86_64 - 64-bit x86 Linux<br>
aarch64 - 64-bit ARM (little endian) Linux<br>
aarch64-big - 64-bit ARM (big endian) Linux<br>
ppc - 32/64-bit PPC Linux (Depending upon toolchain)<br>
<pre>export USEGL="yes"</pre>
Set to empty ("") if you don't want to use graphical features of REX (note: This currently has bugs, especially with multithreading, which need to be fixed)<br>
<pre>export USEDYNAMIC="yes"</pre>
Set to empty ("") if you don't want to use dynamic linking with native libraries for REX.<br>
<pre>export OFLAGS="-O2"</pre>
Optimization flags, set to -O0 for no optimization, -O3 for better optimization<br>
<pre>export DFLAGS="-g"</pre>
Set to empty ("") if you don't want debugging information in the binary<br>
5. From the command line, run build.sh (with executable permissions)<br>
6. The binary must be in /bin64, /bin32, /binAARCH64, depending upon target<br>
7. "cd" to the directory, and run with: ./rxvm.out -exe [name of exe]<br>
You can also use the "-f" option to specify frequency in Kilohertz (KHz) like this: -f 1.5
<h2>Options</h2>
There are a few options that can be used while invoking the VM, here is a list of them:<br>
<pre>-exe [exename]</pre>
Specifies the executable file to be used<br>
<pre>-stack [stack size]</pre>
Specifies the number of 32-bit integers that the stack is allowed to hold<br>
<pre>-h, --help</pre>
Displays licensing information and help<br>
<pre>-f [frequency]</pre>
Specifies what frequency to use in Kilohertz. The CPU runs in real time if no frequency is given<br>
<pre>-s</pre>
Runs the VM in client mode. NOTE: Should only be used by servers while invoking the VM.<br>
<pre>-w</pre>
Specify width of screen while using VM. Should be divisible by 16. (Works only if compiled with REX_GRAPHICS)<br>
<pre>-h</pre>
Specify height of screen while using VM. Should be divisible by 16. (Works only if compiled with REX_GRAPHICS)<br>
</font>
</html>
